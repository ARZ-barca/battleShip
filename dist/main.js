!function(){"use strict";var t={d:function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function r(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e,n){var r=[];if("x"===n)for(var o=t[0],i=t[1],c=0;c<e;c++)r.push([o,+i+c]);else if("y"===n)for(var u=t[0],a=t[1],f=0;f<e;f++)r.push([+u+f,a]);return r}t.r(e),t.d(e,{Z:function(){return h}});var a=function(t,e,n){var o,c={positions:{},createPos:t,axis:n,len:e},a=u(t,e,n),f=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=i(t))){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,c=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw c}}}}(a);try{for(f.s();!(o=f.n()).done;){var s=o.value;c.positions[String(s)]="good"}}catch(t){f.e(t)}finally{f.f()}var l,p,y=(l=a.slice(-1),p=1,function(t){if(Array.isArray(t))return t}(l)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],c=!0,u=!1;try{for(n=n.call(t);!(c=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{c||null==n.return||n.return()}finally{if(u)throw o}}return i}}(l,p)||i(l,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return c.lastPosition=y[0],r(r(r(r(r({},function(t){return{getPositions:function(){return t.positions}}}(c)),function(t){return{getLen:function(){return t.len}}}(c)),function(t){return{getCreatePos:function(){return t.createPos}}}(c)),function(t){return{getLastPos:function(){return t.lastPosition}}}(c)),function(t){return{getAxis:function(){return t.axis}}}(c))};function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e,n){e.forEach((function(e){t.positions[String(e)]=n}))}function b(t){return Object.keys(t.getPositions())}function d(t,e){var n=b(e),r=[];return n.forEach((function(e){for(var n=e.split(","),o=-1;o<2;o+=1)for(var i=-1;i<2;i+=1){var c=String([+n[0]+o,+n[1]+i]);"empty"!==t.positions[c]&&"unavailable"!==t.positions[c]||r.includes(c)||r.push(c)}})),r}function g(t,e,n,r){var o=a(e,n,r);return function(t,e){y(t,b(e),"ship")}(t,o),function(t,e){y(t,d(t,e),"unavailable")}(t,o),function(t,e){t.ships.push(e)}(t,o),o}function v(t,e){!function(t,e){y(t,b(e),"empty")}(t,e),function(t,e){y(t,d(t,e),"empty")}(t,e),function(t,e){var n=t.ships.indexOf(e);t.ships.splice(n,1)}(t,e)}var m=function(t){return{checkPlacement:function(e,n,r){return function(t,e,n,r){var o,i=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){u=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}(u(e,n,r));try{for(i.s();!(o=i.n()).done;){var c=o.value;if("empty"!==t.positions[String(c)])return!1}}catch(t){i.e(t)}finally{i.f()}return!0}(t,e,n,r)}}},h=function(t){for(var e={positions:{},ships:[],gameBoardLen:t},n=0;n<t;n++)for(var r=0;r<t;r++)e.positions[String([n,r])]="empty";return s(s(s(s(s(s(s({},function(t){return{getPositions:function(){return t.positions}}}(e)),function(t){return{getShips:function(){return t.ships}}}(e)),function(t){return{createShip:function(e,n,r){return g(t,e,n,r)}}}(e)),function(t){return{removeShip:function(e){v(t,e)}}}(e)),function(t){return{changeShipAxis:function(e,n){return function(t,e,n){return v(t,e),g(t,e.getCreatePos(),e.getLen(),n)}(t,e,n)}}}(e)),m(e)),function(t){return{getPositionsAroundShip:function(e){return d(t,e)}}}(e))};function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){j(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P,w=10,A=function(t){return{getGameBoard:function(){return t.gameBoard}}},x=function(t){return{getGameBoardLen:function(){return t.gameBoardLen}}},B=function(t){return{createShip:function(e,n,r){return function(t,e,n,r){return t.gameBoard.createShip(e,n,r)}(t,e,n,r)}}},E=function(t){return{checkPlacement:function(e,n,r){return function(t,e,n,r){return t.gameBoard.checkPlacement(e,n,r)}(t,e,n,r)}}},L=function(t){return{removeShip:function(e){!function(t,e){t.gameBoard.removeShip(e)}(t,e)}}},k=function(t){return{changeShipAxis:function(e,n){return function(t,e,n){return t.gameBoard.changeShipAxis(e,n)}(t,e,n)}}};function D(t,e,n,r,o){t.getGameBoard().createShip(n,r,o),function(t,e){t.forEach((function(t){var n=".p-".concat(String(t).replace(",","-"));e.querySelector(n).classList.add("ship")}))}(u(n,r,o),e)}function C(t,n,r,o,i){if(r.attack(t,o),t.checkAttack(o)){i.textContent="X";var c=(0,e.getHitShip)(t.getShips(),o);c.isSunk()&&t.getPositionsAroundShip(c).forEach((function(t){var e=".p-".concat(String(t).replace(",","-")),r=n.querySelector(e);r.textContent="O",r.classList.remove("selectable")}))}else i.textContent="O"}var I,G=function(){var t={gameBoard:h(w),gameBoardLen:w};return S(S(S(S(S(S({},A(t)),x(t)),B(t)),E(t)),L(t)),k(t))}(),q=(I={gameBoard:h(w),gameBoardLen:w},S(S(S(S(S(S({},A(I)),x(I)),B(I)),E(I)),L(I)),k(I))),T=document.querySelector(".game-board.human"),M=document.querySelector(".game-board.ai"),U=q.getGameBoard(),$=G.getGameBoard();!function(t,e){for(var n=0;n<10;n++)for(var r=0;r<10;r++){var o=document.createElement("div");o.classList.add("position","p-".concat(n,"-").concat(r)),t.appendChild(o)}}(T),function(t,e,n,r,o,i,c){for(var u=function(u){for(var a=function(c){var a=document.createElement("div");a.classList.add("position","p-".concat(u,"-").concat(c),"selectable"),n.appendChild(a),P=function(){if(!e.getAttacks().unavailableShots.includes(String([u,c]))){if(C(e,n,r,[u,c],a),e.isGameOver())return console.log("player won"),void n.classList.add("game-over");if(function(t,e,n){var r=n.getAttackPosition(),o=".p-".concat(String(r).replace(",","-")),i=e.querySelector(o);C(t,e,n,r,i)}(o,i,t),o.isGameOver())return console.log("ai won"),void n.classList.add("game-over");a.classList.remove("selectable")}},a.addEventListener("click",P,{once:!0,capture:!1})},f=0;f<c;f++)a(f)},a=0;a<c;a++)u(a)}(q,U,M,G,$,T,w),D(G,T,[1,1],1,"x"),D(q,M,[1,1],2,"x"),D(q,M,[5,5],4,"y")}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cmFwIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zaGlwcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWVCb2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3BsYXllci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2RvbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgZGVmaW5pdGlvbikge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvLyAvLyBtZXRob2QgdGhhdCBtYXJrcyBhIHBvc2l0aW9uIGFzIGhpdFxyXG4vLyBmdW5jdGlvbiBhZGRIaXQoc3RhdGUpIHtcclxuLy8gICByZXR1cm4ge1xyXG4vLyAgICAgaGl0KGhpdFBvc2l0aW9uKSB7XHJcbi8vICAgICAgIHN0YXRlLnBvc2l0aW9uc1tTdHJpbmcoaGl0UG9zaXRpb24pXSA9IFwiaGl0XCI7XHJcbi8vICAgICB9LFxyXG4vLyAgIH07XHJcbi8vIH1cclxuXHJcbi8vIC8vIGNoZWNrIGlmIHNoaXAgaXMgc3Vua1xyXG4vLyBjb25zdCBhZGRJc1N1bmsgPSAoc3RhdGUpID0+ICh7XHJcbi8vICAgaXNTdW5rKCkge1xyXG4vLyAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoc3RhdGUucG9zaXRpb25zKS5ldmVyeSgodmFsdWUpID0+IHZhbHVlID09PSBcImhpdFwiKTtcclxuLy8gICB9LFxyXG4vLyB9KTtcclxuXHJcbi8vIG1ldGhvZCBmb3IgZ2V0dGluZyBwb3NpdGlvbnMgb2Ygc2hpcFxyXG5jb25zdCBhZGRHZXRQb3NpdGlvbnMgPSAoc3RhdGUpID0+ICh7XHJcbiAgZ2V0UG9zaXRpb25zKCkge1xyXG4gICAgcmV0dXJuIHN0YXRlLnBvc2l0aW9ucztcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IGFkZEdldExlbiA9IChzdGF0ZSkgPT4gKHtcclxuICBnZXRMZW4oKSB7XHJcbiAgICByZXR1cm4gc3RhdGUubGVuO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgYWRkR2V0QXhpcyA9IChzdGF0ZSkgPT4gKHtcclxuICBnZXRBeGlzKCkge1xyXG4gICAgcmV0dXJuIHN0YXRlLmF4aXM7XHJcbiAgfSxcclxufSk7XHJcblxyXG5jb25zdCBhZGRHZXRDcmVhdGVQb3MgPSAoc3RhdGUpID0+ICh7XHJcbiAgZ2V0Q3JlYXRlUG9zKCkge1xyXG4gICAgcmV0dXJuIHN0YXRlLmNyZWF0ZVBvcztcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IGFkZEdldExhc3RQb3MgPSAoc3RhdGUpID0+ICh7XHJcbiAgZ2V0TGFzdFBvcygpIHtcclxuICAgIHJldHVybiBzdGF0ZS5sYXN0UG9zaXRpb247XHJcbiAgfSxcclxufSk7XHJcblxyXG4vLyBwcmVkaWN0cyBzaGlwIHBvc2l0aW9ucyBpZiBjcmVhdGVkIHRvIGNoZWNrIGZvciB0aGVpciB2YWxpZGl0eVxyXG5mdW5jdGlvbiBwcmVkaWN0U2hpcFBvc2l0aW9ucyhjcmVhdGVQb3MsIGxlbiwgYXhpcykge1xyXG4gIGNvbnN0IHBvc2l0aW9ucyA9IFtdO1xyXG4gIGlmIChheGlzID09PSBcInhcIikge1xyXG4gICAgZm9yIChsZXQgaSA9IGNyZWF0ZVBvc1swXSwgaiA9IGNyZWF0ZVBvc1sxXSwgayA9IDA7IGsgPCBsZW47IGsrKykge1xyXG4gICAgICBwb3NpdGlvbnMucHVzaChbaSwgK2ogKyBrXSk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChheGlzID09PSBcInlcIikge1xyXG4gICAgZm9yIChsZXQgaSA9IGNyZWF0ZVBvc1swXSwgaiA9IGNyZWF0ZVBvc1sxXSwgayA9IDA7IGsgPCBsZW47IGsrKykge1xyXG4gICAgICBwb3NpdGlvbnMucHVzaChbK2kgKyBrLCBqXSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBwb3NpdGlvbnM7XHJcbn1cclxuXHJcbi8vIGdhbWVib2FyZCBmYWN0b3J5IGZ1bmN0aW9uXHJcbmZ1bmN0aW9uIFNoaXAoY3JlYXRlUG9zLCBsZW4sIGF4aXMpIHtcclxuICBjb25zdCBzdGF0ZSA9IHtcclxuICAgIHBvc2l0aW9uczoge30sXHJcbiAgICBjcmVhdGVQb3MsXHJcbiAgICBheGlzLFxyXG4gICAgbGVuLFxyXG4gIH07XHJcbiAgLy8gcG9wdWxhdGluZyB0aGUgcG9zaXRpb25zIG9mIHRoZSBzaGlwXHJcbiAgY29uc3QgcHJlZGljdGVkUG9zaXRpb25zID0gcHJlZGljdFNoaXBQb3NpdGlvbnMoY3JlYXRlUG9zLCBsZW4sIGF4aXMpO1xyXG4gIGZvciAoY29uc3QgcCBvZiBwcmVkaWN0ZWRQb3NpdGlvbnMpIHtcclxuICAgIHN0YXRlLnBvc2l0aW9uc1tTdHJpbmcocCldID0gXCJnb29kXCI7XHJcbiAgfVxyXG5cclxuICAvLyBzZXQgZW5kUG9zdGlvbiBmb3Igc2hpcFxyXG4gIFtzdGF0ZS5sYXN0UG9zaXRpb25dID0gcHJlZGljdGVkUG9zaXRpb25zLnNsaWNlKC0xKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIC4uLmFkZEdldFBvc2l0aW9ucyhzdGF0ZSksXHJcbiAgICAvLyAuLi5hZGRJc1N1bmsoc3RhdGUpLFxyXG4gICAgLy8gLi4uYWRkSGl0KHN0YXRlKSxcclxuICAgIC4uLmFkZEdldExlbihzdGF0ZSksXHJcbiAgICAuLi5hZGRHZXRDcmVhdGVQb3Moc3RhdGUpLFxyXG4gICAgLi4uYWRkR2V0TGFzdFBvcyhzdGF0ZSksXHJcbiAgICAuLi5hZGRHZXRBeGlzKHN0YXRlKSxcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTaGlwO1xyXG5leHBvcnQgeyBwcmVkaWN0U2hpcFBvc2l0aW9ucyB9O1xyXG4iLCJpbXBvcnQgU2hpcCwgeyBwcmVkaWN0U2hpcFBvc2l0aW9ucyB9IGZyb20gXCIuL3NoaXBzXCI7XHJcblxyXG4vLyBjaGFuZ2UgdGhlIGdpdmVuIHBvc2l0aW9ucyBpbiB0aGUgZ2FtZSBib2FyZHNcclxuZnVuY3Rpb24gY2hhbmdlR2FtZUJvYXJkUG9zaXRpb25zKHN0YXRlLCBwb3NpdGlvbnMsIHZhbHVlKSB7XHJcbiAgcG9zaXRpb25zLmZvckVhY2goKHApID0+IHtcclxuICAgIHN0YXRlLnBvc2l0aW9uc1tTdHJpbmcocCldID0gdmFsdWU7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vIGdldCB0aGUgc2hpcCBwb3NpdGlvbnMgYXMgYSBsaXN0XHJcbmZ1bmN0aW9uIGdldFNoaXBQb3NpdGlvbnMoc2hpcCkge1xyXG4gIHJldHVybiBPYmplY3Qua2V5cyhzaGlwLmdldFBvc2l0aW9ucygpKTtcclxufVxyXG5cclxuLy8gY2hhbmdlcyBwb3NpdGlvbnMgaW4gZ2FtZSBib2FyZCB0byAnc2hpcCdcclxuZnVuY3Rpb24gY2hhbmdlU2hpcFBvc2l0aW9ucyhzdGF0ZSwgc2hpcCkge1xyXG4gIGNvbnN0IHNoaXBQb3NpdGlvbnMgPSBnZXRTaGlwUG9zaXRpb25zKHNoaXApO1xyXG4gIGNoYW5nZUdhbWVCb2FyZFBvc2l0aW9ucyhzdGF0ZSwgc2hpcFBvc2l0aW9ucywgXCJzaGlwXCIpO1xyXG59XHJcblxyXG4vLyBnZXQgcG9zaXRpb25zIGFycm91bmQgc2hpcFxyXG5mdW5jdGlvbiBnZXRQb3NpdGlvbnNBcm91bmRTaGlwKHN0YXRlLCBzaGlwKSB7XHJcbiAgY29uc3Qgc2hpcFBvc2l0aW9ucyA9IGdldFNoaXBQb3NpdGlvbnMoc2hpcCk7XHJcbiAgY29uc3QgYXJvdW5kUG9zaXRpb25zID0gW107XHJcbiAgc2hpcFBvc2l0aW9ucy5mb3JFYWNoKChwKSA9PiB7XHJcbiAgICBjb25zdCBwQXNMaXN0ID0gcC5zcGxpdChcIixcIik7XHJcbiAgICBmb3IgKGxldCBpID0gLTE7IGkgPCAyOyBpICs9IDEpIHtcclxuICAgICAgZm9yIChsZXQgaiA9IC0xOyBqIDwgMjsgaiArPSAxKSB7XHJcbiAgICAgICAgY29uc3QgbmV3UG9zID0gU3RyaW5nKFsrcEFzTGlzdFswXSArIGksICtwQXNMaXN0WzFdICsgal0pO1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIChzdGF0ZS5wb3NpdGlvbnNbbmV3UG9zXSA9PT0gXCJlbXB0eVwiIHx8XHJcbiAgICAgICAgICAgIHN0YXRlLnBvc2l0aW9uc1tuZXdQb3NdID09PSBcInVuYXZhaWxhYmxlXCIpICYmXHJcbiAgICAgICAgICAhYXJvdW5kUG9zaXRpb25zLmluY2x1ZGVzKG5ld1BvcylcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGFyb3VuZFBvc2l0aW9ucy5wdXNoKG5ld1Bvcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIGFyb3VuZFBvc2l0aW9ucztcclxufVxyXG5cclxuLy8gYWRkcyBnZXQgcG9zaXRpb25zIGFyb3VuZCBzaGlwIG1ldGhvZCB0byBvYmplY3RcclxuY29uc3QgYWRkR2V0UG9zaXRpb25zQXJvdW5kU2hpcCA9IChzdGF0ZSkgPT4gKHtcclxuICBnZXRQb3NpdGlvbnNBcm91bmRTaGlwOiAoc2hpcCkgPT4gZ2V0UG9zaXRpb25zQXJvdW5kU2hpcChzdGF0ZSwgc2hpcCksXHJcbn0pO1xyXG5cclxuLy8gY2hhbmdlcyBhcnJvdW5kIHRoZSBzaGlwIHBvc2l0aW9ucyB0byAndW5hdmFpbGFibGUnXHJcbmZ1bmN0aW9uIGNoYW5nZUFyb3VuZFNoaXBQb3NpdGlvbnMoc3RhdGUsIHNoaXApIHtcclxuICBjb25zdCBhcm91bmRQb3NpdGlvbnMgPSBnZXRQb3NpdGlvbnNBcm91bmRTaGlwKHN0YXRlLCBzaGlwKTtcclxuICBjaGFuZ2VHYW1lQm9hcmRQb3NpdGlvbnMoc3RhdGUsIGFyb3VuZFBvc2l0aW9ucywgXCJ1bmF2YWlsYWJsZVwiKTtcclxufVxyXG5cclxuLy8gYWRkIHNoaXAgdG8gdGhlIGdhbWVib2FyZCBzaGlwc1xyXG5mdW5jdGlvbiBhZGRTaGlwVG9HYW1lQm9hcmRTaGlwcyhzdGF0ZSwgc2hpcCkge1xyXG4gIHN0YXRlLnNoaXBzLnB1c2goc2hpcCk7XHJcbn1cclxuXHJcbi8vIG1ldGhvZCBmb3IgcGxhY2luZyBzaGlwcyBpbiBnYW1lYm9hcmQgKHJldHVybnMgdGhlIHNoaXApXHJcbmZ1bmN0aW9uIGNyZWF0ZVNoaXAoc3RhdGUsIGNyZWF0ZVBvcywgbGVuLCBheGlzKSB7XHJcbiAgY29uc3Qgc2hpcCA9IFNoaXAoY3JlYXRlUG9zLCBsZW4sIGF4aXMpO1xyXG4gIGNoYW5nZVNoaXBQb3NpdGlvbnMoc3RhdGUsIHNoaXApO1xyXG4gIGNoYW5nZUFyb3VuZFNoaXBQb3NpdGlvbnMoc3RhdGUsIHNoaXApO1xyXG4gIGFkZFNoaXBUb0dhbWVCb2FyZFNoaXBzKHN0YXRlLCBzaGlwKTtcclxuICByZXR1cm4gc2hpcDtcclxufVxyXG5cclxuLy8gYWRkcyB0aGUgY3JlYXRlU2hpcCBtZXRob2QgdG8gb2JqZWN0XHJcbmNvbnN0IGFkZENyZWF0ZVNoaXAgPSAoc3RhdGUpID0+ICh7XHJcbiAgY3JlYXRlU2hpcDogKGNyZWF0ZVBvcywgbGVuLCBheGlzKSA9PiBjcmVhdGVTaGlwKHN0YXRlLCBjcmVhdGVQb3MsIGxlbiwgYXhpcyksXHJcbn0pO1xyXG5cclxuLy8gbWFrZXMgdGhlIHNoaXAgcG9zaXRpb25zICdlbXB0eSdcclxuZnVuY3Rpb24gZW1wdHlTaGlwUG9zaXRpb25zKHN0YXRlLCBzaGlwKSB7XHJcbiAgY29uc3Qgc2hpcFBvc2l0aW9ucyA9IGdldFNoaXBQb3NpdGlvbnMoc2hpcCk7XHJcbiAgY2hhbmdlR2FtZUJvYXJkUG9zaXRpb25zKHN0YXRlLCBzaGlwUG9zaXRpb25zLCBcImVtcHR5XCIpO1xyXG59XHJcblxyXG4vLyBtYWtlcyBhcm91bmQgdGhlIHNoaXAncyBwb3NpdGlvbiBlbXB0eVxyXG5mdW5jdGlvbiBlbXB0eUFyb3VuZFNoaXBQb3NpdGlvbihzdGF0ZSwgc2hpcCkge1xyXG4gIGNvbnN0IGFyb3VuZFBvc2l0aW9ucyA9IGdldFBvc2l0aW9uc0Fyb3VuZFNoaXAoc3RhdGUsIHNoaXApO1xyXG4gIGNoYW5nZUdhbWVCb2FyZFBvc2l0aW9ucyhzdGF0ZSwgYXJvdW5kUG9zaXRpb25zLCBcImVtcHR5XCIpO1xyXG59XHJcblxyXG4vLyByZW1vdmVzIHRoZSBzaGlwIGZyb20gZ2FtZUJvYXJkIHNoaXBzXHJcbmZ1bmN0aW9uIHJlbW92ZVNoaXBGcm9tR2FtZUJvYXJkU2hpcHMoc3RhdGUsIHNoaXApIHtcclxuICBjb25zdCBzaGlwSW5kZXggPSBzdGF0ZS5zaGlwcy5pbmRleE9mKHNoaXApO1xyXG4gIHN0YXRlLnNoaXBzLnNwbGljZShzaGlwSW5kZXgsIDEpO1xyXG59XHJcblxyXG4vLyBtZXRob2QgZm9yIHJlbW92aW5nIHRoZSBzaGlwIChuZWVkcyBvbmUgYXJnKVxyXG5mdW5jdGlvbiByZW1vdmVTaGlwKHN0YXRlLCBzaGlwKSB7XHJcbiAgZW1wdHlTaGlwUG9zaXRpb25zKHN0YXRlLCBzaGlwKTtcclxuICBlbXB0eUFyb3VuZFNoaXBQb3NpdGlvbihzdGF0ZSwgc2hpcCk7XHJcbiAgcmVtb3ZlU2hpcEZyb21HYW1lQm9hcmRTaGlwcyhzdGF0ZSwgc2hpcCk7XHJcbn1cclxuXHJcbi8vIGFkZHMgcmVtb3Zlc2hpcCBtZXRob2QgdG8gYW4gb2JqZWN0XHJcbmNvbnN0IGFkZFJlbW92ZVNoaXAgPSAoc3RhdGUpID0+ICh7XHJcbiAgcmVtb3ZlU2hpcDogKHNoaXApID0+IHtcclxuICAgIHJlbW92ZVNoaXAoc3RhdGUsIHNoaXApO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuLy8gbWV0aG9kIGZvciByZXBvc2l0aW9uaW5nIHRoZSBzaGlwXHJcbmZ1bmN0aW9uIGNoYW5nZVNoaXBBeGlzKHN0YXRlLCBzaGlwLCBuZXdBeGlzKSB7XHJcbiAgcmVtb3ZlU2hpcChzdGF0ZSwgc2hpcCk7XHJcbiAgY29uc3Qgc2hpcENyZWF0ZVBvcyA9IHNoaXAuZ2V0Q3JlYXRlUG9zKCk7XHJcbiAgY29uc3Qgc2hpcExlbiA9IHNoaXAuZ2V0TGVuKCk7XHJcbiAgY29uc3QgbmV3U2hpcCA9IGNyZWF0ZVNoaXAoc3RhdGUsIHNoaXBDcmVhdGVQb3MsIHNoaXBMZW4sIG5ld0F4aXMpO1xyXG4gIHJldHVybiBuZXdTaGlwO1xyXG59XHJcblxyXG4vLyBhZGRzIGNoYW5nZVNoaXBBeGl4IG1ldGhvZCB0byBhbiBvYmplY3RcclxuY29uc3QgYWRkQ2hhbmdlU2hpcEF4aXMgPSAoc3RhdGUpID0+ICh7XHJcbiAgY2hhbmdlU2hpcEF4aXM6IChzaGlwLCBuZXdBeGlzKSA9PiBjaGFuZ2VTaGlwQXhpcyhzdGF0ZSwgc2hpcCwgbmV3QXhpcyksXHJcbn0pO1xyXG5cclxuLy8gbWV0aG9kIHRoYXQgY2hlY2tzIGZvciBwbGFjZW1lbnQgdmFsaWRpdHlcclxuZnVuY3Rpb24gY2hlY2tQbGFjZW1lbnQoc3RhdGUsIGNyZWF0ZVBvcywgbGVuLCBheGlzKSB7XHJcbiAgY29uc3QgcHJlZGljdGVkUG9zaXRpb25zID0gcHJlZGljdFNoaXBQb3NpdGlvbnMoY3JlYXRlUG9zLCBsZW4sIGF4aXMpO1xyXG4gIGZvciAoY29uc3QgcCBvZiBwcmVkaWN0ZWRQb3NpdGlvbnMpIHtcclxuICAgIGlmIChzdGF0ZS5wb3NpdGlvbnNbU3RyaW5nKHApXSAhPT0gXCJlbXB0eVwiKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbi8vIGFkZHMgY2hlY2tQbGFjZW1lbnQgbWV0aG9kIHRvIGFuIG9iamVjdFxyXG5jb25zdCBhZGRDaGVja1BsYWNlbWVudCA9IChzdGF0ZSkgPT4gKHtcclxuICBjaGVja1BsYWNlbWVudDogKGNyZWF0ZVBvcywgbGVuLCBheGlzKSA9PlxyXG4gICAgY2hlY2tQbGFjZW1lbnQoc3RhdGUsIGNyZWF0ZVBvcywgbGVuLCBheGlzKSxcclxufSk7XHJcblxyXG4vLyBtZXRob2QgZm9yIGdldHRpbmcgdGhlIHBvc2l0aW9ucyBvZiBnYW1lIGJvYXJkXHJcbmNvbnN0IGFkZEdldFBvc2l0aW9ucyA9IChzdGF0ZSkgPT4gKHtcclxuICBnZXRQb3NpdGlvbnMoKSB7XHJcbiAgICByZXR1cm4gc3RhdGUucG9zaXRpb25zO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuLy8gbWV0aG9kIGZvciBnZXR0aW5nIHRoZSBzaGlwcyBvZiBnYW1lIGJvYXJkXHJcbmNvbnN0IGFkZEdldFNoaXBzID0gKHN0YXRlKSA9PiAoe1xyXG4gIGdldFNoaXBzKCkge1xyXG4gICAgcmV0dXJuIHN0YXRlLnNoaXBzO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuLy8gLy8gcmV0dXJucyB0aGUgc2hpcCB0aGF0IGdvdCBoaXRcclxuLy8gZnVuY3Rpb24gZ2V0SGl0U2hpcChzaGlwcywgYXR0YWNrUG9zaXRpb24pIHtcclxuLy8gICBmb3IgKGNvbnN0IHNoaXAgb2Ygc2hpcHMpIHtcclxuLy8gICAgIGlmIChPYmplY3Qua2V5cyhzaGlwLmdldFBvc2l0aW9ucygpKS5pbmNsdWRlcyhTdHJpbmcoYXR0YWNrUG9zaXRpb24pKSkge1xyXG4vLyAgICAgICByZXR1cm4gc2hpcDtcclxuLy8gICAgIH1cclxuLy8gICB9XHJcbi8vIH1cclxuXHJcbi8vIC8vIG1hcmsgYXJvdW5kIGEgc2hpcCBpbiBnYW1lIGJvYXJkIGFzIHVuYXZhaWxhYmxlU2hvdCBmb3IgaGl0XHJcbi8vIGZ1bmN0aW9uIG1hcmtBcm91bmRTaGlwKHN0YXRlLCBzaGlwKSB7XHJcbi8vICAgY29uc3QgYXJvdW5kUG9zaXRpb25zID0gZ2V0UG9zaXRpb25zQXJvdW5kU2hpcChzdGF0ZSwgc2hpcCk7XHJcbi8vICAgYXJvdW5kUG9zaXRpb25zLmZvckVhY2goKHApID0+IHtcclxuLy8gICAgIGlmICghc3RhdGUubWlzc2VkU2hvdHMuaW5jbHVkZXMocCkgJiYgIXN0YXRlLnVuYXZhaWxhYmxlU2hvdHMuaW5jbHVkZXMocCkpIHtcclxuLy8gICAgICAgc3RhdGUudW5hdmFpbGFibGVTaG90cy5wdXNoKHApO1xyXG4vLyAgICAgfVxyXG4vLyAgIH0pO1xyXG4vLyB9XHJcblxyXG4vLyAvLyBjaGVja3MgYW4gYXR0YWNrIGZvciBoaXQgb3IgbWlzc1xyXG4vLyBmdW5jdGlvbiBjaGVja0F0dGFjayhzdGF0ZSwgYXR0YWNrUG9zaXRpb24pIHtcclxuLy8gICBpZiAoc3RhdGUucG9zaXRpb25zW1N0cmluZyhhdHRhY2tQb3NpdGlvbildID09PSBcInNoaXBcIikge1xyXG4vLyAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgfVxyXG4vLyAgIHJldHVybiBmYWxzZTtcclxuLy8gfVxyXG5cclxuLy8gLy8gYWRkIGNoZWNrIGF0dGFja1xyXG4vLyBjb25zdCBhZGRDaGVja0F0dGFjayA9IChzdGF0ZSkgPT4gKHtcclxuLy8gICBjaGVja0F0dGFjazogKGF0dGFja1Bvc2l0aW9uKSA9PiBjaGVja0F0dGFjayhzdGF0ZSwgYXR0YWNrUG9zaXRpb24pLFxyXG4vLyB9KTtcclxuXHJcbi8vIC8vIG1ldGhvZCBmb3IgcmVjZWlldmVpbmcgYW4gYXR0YWNrXHJcbi8vIGZ1bmN0aW9uIHJlY2VpdmVBdHRhY2soc3RhdGUsIGF0dGFja1Bvc2l0aW9uKSB7XHJcbi8vICAgaWYgKGNoZWNrQXR0YWNrKHN0YXRlLCBhdHRhY2tQb3NpdGlvbikpIHtcclxuLy8gICAgIHN0YXRlLmhpdFNob3RzLnB1c2goU3RyaW5nKGF0dGFja1Bvc2l0aW9uKSk7XHJcbi8vICAgICBjb25zdCBzaGlwID0gZ2V0SGl0U2hpcChzdGF0ZS5zaGlwcywgYXR0YWNrUG9zaXRpb24pO1xyXG4vLyAgICAgc2hpcC5oaXQoYXR0YWNrUG9zaXRpb24pO1xyXG4vLyAgICAgaWYgKHNoaXAuaXNTdW5rKCkpIHtcclxuLy8gICAgICAgbWFya0Fyb3VuZFNoaXAoc3RhdGUsIHNoaXApO1xyXG4vLyAgICAgfVxyXG4vLyAgIH0gZWxzZSB7XHJcbi8vICAgICBzdGF0ZS5taXNzZWRTaG90cy5wdXNoKFN0cmluZyhhdHRhY2tQb3NpdGlvbikpO1xyXG4vLyAgIH1cclxuLy8gfVxyXG5cclxuLy8gLy8gYWRkcyByZWNlaXZlQXR0YWNrIG1ldGhvZCB0byBhbiBvYmplY3RcclxuLy8gY29uc3QgYWRkUmVjZWl2ZUF0dGFjayA9IChzdGF0ZSkgPT4gKHtcclxuLy8gICByZWNlaXZlQXR0YWNrOiAoYXR0YWNrUG9zaXRpb24pID0+IHJlY2VpdmVBdHRhY2soc3RhdGUsIGF0dGFja1Bvc2l0aW9uKSxcclxuLy8gfSk7XHJcblxyXG4vLyAvLyBtZXRob2QgZm9yIGdldHRpbmcgYXR0YWNrcyBvbiBhIHNoaXBcclxuLy8gY29uc3QgYWRkR2V0QXR0YWNrcyA9IChzdGF0ZSkgPT4gKHtcclxuLy8gICBnZXRBdHRhY2tzKCkge1xyXG4vLyAgICAgY29uc3QgeyBtaXNzZWRTaG90cyB9ID0gc3RhdGU7XHJcbi8vICAgICBjb25zdCB7IGhpdFNob3RzIH0gPSBzdGF0ZTtcclxuLy8gICAgIGNvbnN0IHsgdW5hdmFpbGFibGVTaG90cyB9ID0gc3RhdGU7XHJcbi8vICAgICByZXR1cm4geyBtaXNzZWRTaG90cywgaGl0U2hvdHMsIHVuYXZhaWxhYmxlU2hvdHMgfTtcclxuLy8gICB9LFxyXG4vLyB9KTtcclxuXHJcbi8vIC8vIG1ldGhvZCBmb3IgY2hlY2tpbmcgaWYgdGhlIGdhbWUgaXMgb3ZlclxyXG4vLyBmdW5jdGlvbiBpc0dhbWVPdmVyKHN0YXRlKSB7XHJcbi8vICAgbGV0IGdhbWVPdmVyID0gdHJ1ZTtcclxuLy8gICBzdGF0ZS5zaGlwcy5mb3JFYWNoKChzaGlwKSA9PiB7XHJcbi8vICAgICBpZiAoIXNoaXAuaXNTdW5rKCkpIHtcclxuLy8gICAgICAgZ2FtZU92ZXIgPSBmYWxzZTtcclxuLy8gICAgIH1cclxuLy8gICB9KTtcclxuLy8gICByZXR1cm4gZ2FtZU92ZXI7XHJcbi8vIH1cclxuXHJcbi8vIC8vIGFkZCBpc0dhbWVPdmVyIHRvIGFuIG9iamVjdFxyXG4vLyBjb25zdCBhZGRpc0dhbWVPdmVyID0gKHN0YXRlKSA9PiAoe1xyXG4vLyAgIGlzR2FtZU92ZXI6ICgpID0+IGlzR2FtZU92ZXIoc3RhdGUpLFxyXG4vLyB9KTtcclxuXHJcbi8vIGdhbWUgYm9hcmQgZmFjdG9yeSBmdW5jdGlvblxyXG5mdW5jdGlvbiBHYW1lQm9hcmQoZ2FtZUJvYXJkTGVuKSB7XHJcbiAgLy8gcG9zaXRpb25zIGluIGdhbWUgYm9hcmRcclxuICBjb25zdCBzdGF0ZSA9IHtcclxuICAgIHBvc2l0aW9uczoge30sXHJcbiAgICBzaGlwczogW10sXHJcbiAgICBnYW1lQm9hcmRMZW4sXHJcbiAgICAvLyB1c2VkIGFmdGVyIHRoZSBzaGlwIHBsYWNlbWVudFxyXG4gICAgLy8gbWlzc2VkU2hvdHM6IFtdLFxyXG4gICAgLy8gaGl0U2hvdHM6IFtdLFxyXG4gICAgLy8gdW5hdmFpbGFibGVTaG90czogW10sXHJcbiAgfTtcclxuXHJcbiAgLy8gcG9wdWxhdGluZyB0aGUgZ2FtZSBib2FyZFxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZ2FtZUJvYXJkTGVuOyBpKyspIHtcclxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgZ2FtZUJvYXJkTGVuOyBqKyspIHtcclxuICAgICAgc3RhdGUucG9zaXRpb25zW1N0cmluZyhbaSwgal0pXSA9IFwiZW1wdHlcIjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICAuLi5hZGRHZXRQb3NpdGlvbnMoc3RhdGUpLFxyXG4gICAgLi4uYWRkR2V0U2hpcHMoc3RhdGUpLFxyXG4gICAgLi4uYWRkQ3JlYXRlU2hpcChzdGF0ZSksXHJcbiAgICAuLi5hZGRSZW1vdmVTaGlwKHN0YXRlKSxcclxuICAgIC4uLmFkZENoYW5nZVNoaXBBeGlzKHN0YXRlKSxcclxuICAgIC4uLmFkZENoZWNrUGxhY2VtZW50KHN0YXRlKSxcclxuICAgIC8vIC4uLmFkZFJlY2VpdmVBdHRhY2soc3RhdGUpLFxyXG4gICAgLy8gLi4uYWRkR2V0QXR0YWNrcyhzdGF0ZSksXHJcbiAgICAvLyAuLi5hZGRpc0dhbWVPdmVyKHN0YXRlKSxcclxuICAgIC8vIC4uLmFkZENoZWNrQXR0YWNrKHN0YXRlKSxcclxuICAgIC4uLmFkZEdldFBvc2l0aW9uc0Fyb3VuZFNoaXAoc3RhdGUpLFxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEdhbWVCb2FyZDtcclxuLy8gZXhwb3J0IHsgZ2V0SGl0U2hpcCB9O1xyXG4iLCJpbXBvcnQgR2FtZUJvYXJkIGZyb20gXCIuL2dhbWVCb2FyZFwiO1xyXG5cclxuY29uc3QgZ2FtZUJvYXJkTGVuID0gMTA7XHJcblxyXG4vLyAvLyBpbml0aWFsaXplIHRoZSBhdmFpbGFibGUgc2hvdHNcclxuLy8gZnVuY3Rpb24gaW5pdGlhbGl6ZVNob3RzKHN0YXRlKSB7XHJcbi8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnYW1lQm9hcmRMZW47IGkrKykge1xyXG4vLyAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBnYW1lQm9hcmRMZW47IGorKykge1xyXG4vLyAgICAgICBzdGF0ZS5hdmFpbGFibGVTaG90cy5wdXNoKFN0cmluZyhbaSwgal0pKTtcclxuLy8gICAgIH1cclxuLy8gICB9XHJcbi8vIH1cclxuXHJcbi8vIGFkZCBnZXRHYW1lQm9hcmQgbWV0aG9kIHRvIGFuIG9iamVjdFxyXG5jb25zdCBhZGRHZXRHYW1lQm9hcmQgPSAoc3RhdGUpID0+ICh7XHJcbiAgZ2V0R2FtZUJvYXJkOiAoKSA9PiBzdGF0ZS5nYW1lQm9hcmQsXHJcbn0pO1xyXG5cclxuLy8gYWRkIGdldEdhbWVCb2FyZExlbiBtZXRob2QgdG8gYW4gb2JqZWN0XHJcbmNvbnN0IGFkZEdldEdhbWVCb2FyZExlbiA9IChzdGF0ZSkgPT4gKHtcclxuICBnZXRHYW1lQm9hcmRMZW46ICgpID0+IHN0YXRlLmdhbWVCb2FyZExlbixcclxufSk7XHJcblxyXG4vLyBtZXRob2QgZm9yIGNyZWF0aW5nIHRoZSBzaGlwXHJcbmZ1bmN0aW9uIGNyZWF0ZVNoaXAoc3RhdGUsIGNyZWF0ZVBvcywgbGVuLCBheGlzKSB7XHJcbiAgcmV0dXJuIHN0YXRlLmdhbWVCb2FyZC5jcmVhdGVTaGlwKGNyZWF0ZVBvcywgbGVuLCBheGlzKTtcclxufVxyXG5cclxuLy8gYWRkIGNyZWF0ZVNoaXAgdG8gdGhlIHBsYXllclxyXG5jb25zdCBhZGRDcmVhdGVTaGlwID0gKHN0YXRlKSA9PiAoe1xyXG4gIGNyZWF0ZVNoaXA6IChjcmVhdGVQb3MsIGxlbiwgYXhpcykgPT4gY3JlYXRlU2hpcChzdGF0ZSwgY3JlYXRlUG9zLCBsZW4sIGF4aXMpLFxyXG59KTtcclxuXHJcbi8vIG1ldGhvZCBmb3IgY2hlY2tpbmcgdGhlIHNoaXAgcGxhY2VtZW50IHZhbGlkaXR5XHJcbmZ1bmN0aW9uIGNoZWNrUGxhY2VtZW50KHN0YXRlLCBjcmVhdGVQb3MsIGxlbiwgYXhpcykge1xyXG4gIHJldHVybiBzdGF0ZS5nYW1lQm9hcmQuY2hlY2tQbGFjZW1lbnQoY3JlYXRlUG9zLCBsZW4sIGF4aXMpO1xyXG59XHJcblxyXG4vLyBhZGQgY3JlYXRlU2hpcCB0byB0aGUgcGxheWVyXHJcbmNvbnN0IGFkZENoZWNrUGxhY2VtZW50ID0gKHN0YXRlKSA9PiAoe1xyXG4gIGNoZWNrUGxhY2VtZW50OiAoY3JlYXRlUG9zLCBsZW4sIGF4aXMpID0+XHJcbiAgICBjaGVja1BsYWNlbWVudChzdGF0ZSwgY3JlYXRlUG9zLCBsZW4sIGF4aXMpLFxyXG59KTtcclxuXHJcbi8vIG1ldGhvZCBmb3IgcmVtb3ZpbmcgYSBzaGlwXHJcbmZ1bmN0aW9uIHJlbW92ZVNoaXAoc3RhdGUsIHNoaXApIHtcclxuICBzdGF0ZS5nYW1lQm9hcmQucmVtb3ZlU2hpcChzaGlwKTtcclxufVxyXG5cclxuLy8gYWRkIHJlbW92ZVNoaXAgdG8gdGhlIHBsYXllclxyXG5jb25zdCBhZGRSZW1vdmVTaGlwID0gKHN0YXRlKSA9PiAoe1xyXG4gIHJlbW92ZVNoaXA6IChzaGlwKSA9PiB7XHJcbiAgICByZW1vdmVTaGlwKHN0YXRlLCBzaGlwKTtcclxuICB9LFxyXG59KTtcclxuXHJcbi8vIG1ldGhvZCBmb3IgcmVtb3ZpbmcgYSBzaGlwXHJcbmZ1bmN0aW9uIGNoYW5nZVNoaXBBeGlzKHN0YXRlLCBzaGlwLCBuZXdBeGlzKSB7XHJcbiAgcmV0dXJuIHN0YXRlLmdhbWVCb2FyZC5jaGFuZ2VTaGlwQXhpcyhzaGlwLCBuZXdBeGlzKTtcclxufVxyXG5cclxuLy8gYWRkIHJlbW92ZVNoaXAgdG8gdGhlIHBsYXllclxyXG5jb25zdCBhZGRDaGFuZ2VTaGlwQXhpcyA9IChzdGF0ZSkgPT4gKHtcclxuICBjaGFuZ2VTaGlwQXhpczogKHNoaXAsIG5ld0F4aXMpID0+IGNoYW5nZVNoaXBBeGlzKHN0YXRlLCBzaGlwLCBuZXdBeGlzKSxcclxufSk7XHJcblxyXG4vLyAvLyBhZGQgYWRkR2V0QXZhaWxhYmxlU2hvdHMgbWV0aG9kIHRvIGFuIG9iamVjdFxyXG4vLyBjb25zdCBhZGRHZXRBdmFpbGFibGVTaG90cyA9IChzdGF0ZSkgPT4gKHtcclxuLy8gICBnZXRBdmFpbGFibGVTaG90czogKCkgPT4gc3RhdGUuYXZhaWxhYmxlU2hvdHMsXHJcbi8vIH0pO1xyXG5cclxuLy8gLy8gYXR0YWNrIG1ldGhvZFxyXG4vLyBmdW5jdGlvbiBhdHRhY2soc3RhdGUsIG9wb25lbnRCb2FyZCwgcG9zaXRpb24pIHtcclxuLy8gICBjb25zdCBwb3NpdGlvbkluZGV4ID0gc3RhdGUuYXZhaWxhYmxlU2hvdHMuaW5kZXhPZihTdHJpbmcocG9zaXRpb24pKTtcclxuLy8gICBvcG9uZW50Qm9hcmQucmVjZWl2ZUF0dGFjayhwb3NpdGlvbik7XHJcbi8vICAgc3RhdGUuYXZhaWxhYmxlU2hvdHMuc3BsaWNlKHBvc2l0aW9uSW5kZXgsIDEpO1xyXG4vLyB9XHJcblxyXG4vLyAvLyBhZGQgYXR0YWNrIG1ldGhvZCB0byBhbiBvYmplY3RcclxuLy8gY29uc3QgYWRkQXR0YWNrID0gKHN0YXRlKSA9PiAoe1xyXG4vLyAgIGF0dGFjazogKG9wb25lbnRCb2FyZCwgcG9zaXRpb24pID0+IGF0dGFjayhzdGF0ZSwgb3BvbmVudEJvYXJkLCBwb3NpdGlvbiksXHJcbi8vIH0pO1xyXG5cclxuLy8gLy8gbWV0aG9kIGZvciBhaSB0byBjaG9vc2UgYW4gYXR0YWNrIHBvc2l0aW9uXHJcbi8vIGZ1bmN0aW9uIGdldEF0dGFja1Bvc2l0aW9uKHN0YXRlKSB7XHJcbi8vICAgY29uc3QgbGVuID0gc3RhdGUuYXZhaWxhYmxlU2hvdHMubGVuZ3RoO1xyXG4vLyAgIGNvbnN0IGkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsZW4pO1xyXG4vLyAgIHJldHVybiBzdGF0ZS5hdmFpbGFibGVTaG90c1tpXTtcclxuLy8gfVxyXG5cclxuLy8gLy8gYWRkIGdldEF0dGFja1Bvc2l0aW9uIG1ldGhvZCB0byBhbiBvYmplY3RcclxuLy8gY29uc3QgYWRkR2V0QXR0YWNrUG9zaXRpb24gPSAoc3RhdGUpID0+ICh7XHJcbi8vICAgZ2V0QXR0YWNrUG9zaXRpb246ICgpID0+IGdldEF0dGFja1Bvc2l0aW9uKHN0YXRlKSxcclxuLy8gfSk7XHJcblxyXG4vLyBmYWN0b3J5IGZ1bmN0aW9uIGZvciBodW1hbiBQbGF5ZXJcclxuZnVuY3Rpb24gUGxheWVyKCkge1xyXG4gIGNvbnN0IHN0YXRlID0ge1xyXG4gICAgZ2FtZUJvYXJkOiBHYW1lQm9hcmQoZ2FtZUJvYXJkTGVuKSxcclxuICAgIGdhbWVCb2FyZExlbixcclxuICAgIC8vIGF2YWlsYWJsZVNob3RzOiBbXSxcclxuICB9O1xyXG5cclxuICAvLyBpbml0aWFsaXplU2hvdHMoc3RhdGUpO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgLi4uYWRkR2V0R2FtZUJvYXJkKHN0YXRlKSxcclxuICAgIC4uLmFkZEdldEdhbWVCb2FyZExlbihzdGF0ZSksXHJcbiAgICAuLi5hZGRDcmVhdGVTaGlwKHN0YXRlKSxcclxuICAgIC4uLmFkZENoZWNrUGxhY2VtZW50KHN0YXRlKSxcclxuICAgIC4uLmFkZFJlbW92ZVNoaXAoc3RhdGUpLFxyXG4gICAgLi4uYWRkQ2hhbmdlU2hpcEF4aXMoc3RhdGUpLFxyXG4gICAgLy8gLi4uYWRkR2V0QXZhaWxhYmxlU2hvdHMoc3RhdGUpLFxyXG4gICAgLy8gLi4uYWRkQXR0YWNrKHN0YXRlKSxcclxuICB9O1xyXG59XHJcblxyXG4vLyBmYWN0b3J5IGZ1bmN0aW9uIGZvciBhaSBQbGF5ZXJcclxuZnVuY3Rpb24gQWlQbGF5ZXIoKSB7XHJcbiAgY29uc3Qgc3RhdGUgPSB7XHJcbiAgICBnYW1lQm9hcmQ6IEdhbWVCb2FyZChnYW1lQm9hcmRMZW4pLFxyXG4gICAgZ2FtZUJvYXJkTGVuLFxyXG4gICAgLy8gYXZhaWxhYmxlU2hvdHM6IFtdLFxyXG4gIH07XHJcblxyXG4gIC8vIGluaXRpYWxpemVTaG90cyhzdGF0ZSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICAuLi5hZGRHZXRHYW1lQm9hcmQoc3RhdGUpLFxyXG4gICAgLi4uYWRkR2V0R2FtZUJvYXJkTGVuKHN0YXRlKSxcclxuICAgIC4uLmFkZENyZWF0ZVNoaXAoc3RhdGUpLFxyXG4gICAgLi4uYWRkQ2hlY2tQbGFjZW1lbnQoc3RhdGUpLFxyXG4gICAgLi4uYWRkUmVtb3ZlU2hpcChzdGF0ZSksXHJcbiAgICAuLi5hZGRDaGFuZ2VTaGlwQXhpcyhzdGF0ZSksXHJcbiAgICAvLyAuLi5hZGRHZXRBdmFpbGFibGVTaG90cyhzdGF0ZSksXHJcbiAgICAvLyAuLi5hZGRBdHRhY2soc3RhdGUpLFxyXG4gICAgLy8gLi4uYWRkR2V0QXR0YWNrUG9zaXRpb24oc3RhdGUpLFxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBsYXllcjtcclxuZXhwb3J0IHsgZ2FtZUJvYXJkTGVuLCBBaVBsYXllciB9O1xyXG4iLCJpbXBvcnQgUGxheWVyLCB7IEFpUGxheWVyLCBnYW1lQm9hcmRMZW4gYXMgbGVuIH0gZnJvbSBcIi4vcGxheWVyXCI7XHJcbmltcG9ydCB7IHByZWRpY3RTaGlwUG9zaXRpb25zIH0gZnJvbSBcIi4vc2hpcHNcIjtcclxuaW1wb3J0IHsgZ2V0SGl0U2hpcCB9IGZyb20gXCIuL2dhbWVCb2FyZFwiO1xyXG5cclxuLy8gcGxhY2Ugc2hpcCBpbiBEb21cclxuZnVuY3Rpb24gcGxhY2VTaGlwSW5Eb20oc2hpcFBvc2l0aW9ucywgYm9hcmREb20pIHtcclxuICBzaGlwUG9zaXRpb25zLmZvckVhY2goKHApID0+IHtcclxuICAgIGNvbnN0IHNlbGVjdG9yID0gYC5wLSR7U3RyaW5nKHApLnJlcGxhY2UoXCIsXCIsIFwiLVwiKX1gO1xyXG4gICAgY29uc3QgZG9tID0gYm9hcmREb20ucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICBkb20uY2xhc3NMaXN0LmFkZChcInNoaXBcIik7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vIHBvcHVsYXRlIGh1bWFuIGJvYXJkXHJcbmZ1bmN0aW9uIHBvcEhib2FyZChib2FyZERvbSwgbGVuKSB7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBsZW47IGorKykge1xyXG4gICAgICBjb25zdCBwb3NpdGlvbkRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgIHBvc2l0aW9uRG9tLmNsYXNzTGlzdC5hZGQoXCJwb3NpdGlvblwiLCBgcC0ke2l9LSR7an1gKTtcclxuICAgICAgYm9hcmREb20uYXBwZW5kQ2hpbGQocG9zaXRpb25Eb20pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gcGxhY2Ugc2hpcCBpbiBib2FyZFxyXG5mdW5jdGlvbiBwbGFjZVNoaXAocGxheWVyLCBib2FyZERvbSwgY3JlYXRlUG9zLCBsZW4sIGF4aXMpIHtcclxuICBjb25zdCBib2FyZCA9IHBsYXllci5nZXRHYW1lQm9hcmQoKTtcclxuICBib2FyZC5jcmVhdGVTaGlwKGNyZWF0ZVBvcywgbGVuLCBheGlzKTtcclxuICBjb25zdCBzaGlwUG9zaXRpb25zID0gcHJlZGljdFNoaXBQb3NpdGlvbnMoY3JlYXRlUG9zLCBsZW4sIGF4aXMpO1xyXG4gIHBsYWNlU2hpcEluRG9tKHNoaXBQb3NpdGlvbnMsIGJvYXJkRG9tKTtcclxufVxyXG5cclxuLy8gZXZlbnQgbGlzdGVuZXIgZm9yIGF0dGFja2luZyBhaSBib2FyZCBzbyB3ZSBjYW4gcmVtb3ZlIGl0IGxhdGVyXHJcbmxldCBhdHRhY2tFdmVudExpc3RlbmVyO1xyXG4vLyBib2FyZCBkb20gY2FuIHJlY2VpdmUgYXR0YWNrXHJcbmZ1bmN0aW9uIHJlY2VpdmVBdHRhY2tEb20oYm9hcmQsIGJvYXJkRG9tLCBhdHRhY2tlciwgcG9zaXRpb24sIHBvc2l0aW9uRG9tKSB7XHJcbiAgYXR0YWNrZXIuYXR0YWNrKGJvYXJkLCBwb3NpdGlvbik7XHJcbiAgaWYgKGJvYXJkLmNoZWNrQXR0YWNrKHBvc2l0aW9uKSkge1xyXG4gICAgcG9zaXRpb25Eb20udGV4dENvbnRlbnQgPSBcIlhcIjtcclxuICAgIGNvbnN0IHNoaXAgPSBnZXRIaXRTaGlwKGJvYXJkLmdldFNoaXBzKCksIHBvc2l0aW9uKTtcclxuICAgIGlmIChzaGlwLmlzU3VuaygpKSB7XHJcbiAgICAgIGNvbnN0IHBvc2l0aW9uc0Fyb3VuZFNoaXAgPSBib2FyZC5nZXRQb3NpdGlvbnNBcm91bmRTaGlwKHNoaXApO1xyXG4gICAgICBwb3NpdGlvbnNBcm91bmRTaGlwLmZvckVhY2goKHApID0+IHtcclxuICAgICAgICBjb25zdCBzZWxlY3RvciA9IGAucC0ke1N0cmluZyhwKS5yZXBsYWNlKFwiLFwiLCBcIi1cIil9YDtcclxuICAgICAgICBjb25zdCBkb20gPSBib2FyZERvbS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuICAgICAgICBkb20udGV4dENvbnRlbnQgPSBcIk9cIjtcclxuICAgICAgICBkb20uY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGFibGVcIik7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBwb3NpdGlvbkRvbS50ZXh0Q29udGVudCA9IFwiT1wiO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWlBdHRhY2tzKGh1bWFuQm9hcmQsIGh1bWFuQm9hcmREb20sIGFpUGxheWVyKSB7XHJcbiAgY29uc3QgYXR0YWNrUG9zaXRpb24gPSBhaVBsYXllci5nZXRBdHRhY2tQb3NpdGlvbigpO1xyXG4gIGNvbnN0IHNlbGVjdG9yID0gYC5wLSR7U3RyaW5nKGF0dGFja1Bvc2l0aW9uKS5yZXBsYWNlKFwiLFwiLCBcIi1cIil9YDtcclxuICBjb25zdCBwb3NpdGlvbkRvbSA9IGh1bWFuQm9hcmREb20ucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgcmVjZWl2ZUF0dGFja0RvbShcclxuICAgIGh1bWFuQm9hcmQsXHJcbiAgICBodW1hbkJvYXJkRG9tLFxyXG4gICAgYWlQbGF5ZXIsXHJcbiAgICBhdHRhY2tQb3NpdGlvbixcclxuICAgIHBvc2l0aW9uRG9tXHJcbiAgKTtcclxufVxyXG5cclxuLy8gcG9wdWxhdGUgQWkgYm9hcmRcclxuZnVuY3Rpb24gcG9wQWlCb2FyZChcclxuICBhaVBsYXllcixcclxuICBhaUJvYXJkLFxyXG4gIGFpQm9hcmREb20sXHJcbiAgaHVtYW5QbGF5ZXIsXHJcbiAgaHVtYW5Cb2FyZCxcclxuICBodW1hbkJvYXJkRG9tLFxyXG4gIGxlblxyXG4pIHtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxlbjsgaisrKSB7XHJcbiAgICAgIGNvbnN0IHBvc2l0aW9uRG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgcG9zaXRpb25Eb20uY2xhc3NMaXN0LmFkZChcInBvc2l0aW9uXCIsIGBwLSR7aX0tJHtqfWAsIFwic2VsZWN0YWJsZVwiKTtcclxuICAgICAgYWlCb2FyZERvbS5hcHBlbmRDaGlsZChwb3NpdGlvbkRvbSk7XHJcbiAgICAgIGF0dGFja0V2ZW50TGlzdGVuZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gIHRvIGNoZWNrIGlmIHNob3QgaXMgYXZhaWxhYmxlXHJcbiAgICAgICAgaWYgKGFpQm9hcmQuZ2V0QXR0YWNrcygpLnVuYXZhaWxhYmxlU2hvdHMuaW5jbHVkZXMoU3RyaW5nKFtpLCBqXSkpKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlY2VpdmVBdHRhY2tEb20oYWlCb2FyZCwgYWlCb2FyZERvbSwgaHVtYW5QbGF5ZXIsIFtpLCBqXSwgcG9zaXRpb25Eb20pO1xyXG4gICAgICAgIGlmIChhaUJvYXJkLmlzR2FtZU92ZXIoKSkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJwbGF5ZXIgd29uXCIpO1xyXG4gICAgICAgICAgYWlCb2FyZERvbS5jbGFzc0xpc3QuYWRkKFwiZ2FtZS1vdmVyXCIpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhaUF0dGFja3MoaHVtYW5Cb2FyZCwgaHVtYW5Cb2FyZERvbSwgYWlQbGF5ZXIpO1xyXG4gICAgICAgIGlmIChodW1hbkJvYXJkLmlzR2FtZU92ZXIoKSkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJhaSB3b25cIik7XHJcbiAgICAgICAgICBhaUJvYXJkRG9tLmNsYXNzTGlzdC5hZGQoXCJnYW1lLW92ZXJcIik7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBvc2l0aW9uRG9tLmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3RhYmxlXCIpO1xyXG4gICAgICAgIC8vIGNoZWNrIGlmIGdhbWUgaXMgb3ZlclxyXG4gICAgICB9O1xyXG4gICAgICBwb3NpdGlvbkRvbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXR0YWNrRXZlbnRMaXN0ZW5lciwge1xyXG4gICAgICAgIG9uY2U6IHRydWUsXHJcbiAgICAgICAgY2FwdHVyZTogZmFsc2UsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gaHVtYW4gYW5kIGFpIHBsYXllcnMgYW5kIGJvYXJkc1xyXG5jb25zdCBoUGxheWVyID0gUGxheWVyKCk7XHJcbmNvbnN0IGFpUGxheWVyID0gQWlQbGF5ZXIoKTtcclxuY29uc3QgaHVtYW5Cb2FyZERvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FtZS1ib2FyZC5odW1hblwiKTtcclxuY29uc3QgYWlCb2FyZERvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FtZS1ib2FyZC5haVwiKTtcclxuY29uc3QgYWlCb2FyZCA9IGFpUGxheWVyLmdldEdhbWVCb2FyZCgpO1xyXG5jb25zdCBodW1hbkJvYXJkID0gaFBsYXllci5nZXRHYW1lQm9hcmQoKTtcclxuXHJcbi8vIG1haW4gZ2FtZSBsb29wIChwb3BBaUJvYXJkIGlzIHdoZXJlIGxvb3BzIGhhcHBlbnMpXHJcbmZ1bmN0aW9uIG1haW4oKSB7XHJcbiAgcG9wSGJvYXJkKGh1bWFuQm9hcmREb20sIGxlbik7XHJcbiAgcG9wQWlCb2FyZChcclxuICAgIGFpUGxheWVyLFxyXG4gICAgYWlCb2FyZCxcclxuICAgIGFpQm9hcmREb20sXHJcbiAgICBoUGxheWVyLFxyXG4gICAgaHVtYW5Cb2FyZCxcclxuICAgIGh1bWFuQm9hcmREb20sXHJcbiAgICBsZW5cclxuICApO1xyXG4gIHBsYWNlU2hpcChoUGxheWVyLCBodW1hbkJvYXJkRG9tLCBbMSwgMV0sIDEsIFwieFwiKTtcclxuICBwbGFjZVNoaXAoYWlQbGF5ZXIsIGFpQm9hcmREb20sIFsxLCAxXSwgMiwgXCJ4XCIpO1xyXG4gIHBsYWNlU2hpcChhaVBsYXllciwgYWlCb2FyZERvbSwgWzUsIDVdLCA0LCBcInlcIik7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1haW47XHJcbmV4cG9ydCB7IHBsYWNlU2hpcEluRG9tIH07XHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJwcmVkaWN0U2hpcFBvc2l0aW9ucyIsImNyZWF0ZVBvcyIsImxlbiIsImF4aXMiLCJwb3NpdGlvbnMiLCJpIiwiaiIsImsiLCJwdXNoIiwic3RhdGUiLCJwcmVkaWN0ZWRQb3NpdGlvbnMiLCJwIiwiU3RyaW5nIiwic2xpY2UiLCJsYXN0UG9zaXRpb24iLCJnZXRQb3NpdGlvbnMiLCJhZGRHZXRQb3NpdGlvbnMiLCJnZXRMZW4iLCJhZGRHZXRMZW4iLCJnZXRDcmVhdGVQb3MiLCJhZGRHZXRDcmVhdGVQb3MiLCJnZXRMYXN0UG9zIiwiYWRkR2V0TGFzdFBvcyIsImdldEF4aXMiLCJhZGRHZXRBeGlzIiwiY2hhbmdlR2FtZUJvYXJkUG9zaXRpb25zIiwiZm9yRWFjaCIsImdldFNoaXBQb3NpdGlvbnMiLCJzaGlwIiwia2V5cyIsImdldFBvc2l0aW9uc0Fyb3VuZFNoaXAiLCJzaGlwUG9zaXRpb25zIiwiYXJvdW5kUG9zaXRpb25zIiwicEFzTGlzdCIsInNwbGl0IiwibmV3UG9zIiwiaW5jbHVkZXMiLCJjcmVhdGVTaGlwIiwiU2hpcCIsImNoYW5nZVNoaXBQb3NpdGlvbnMiLCJjaGFuZ2VBcm91bmRTaGlwUG9zaXRpb25zIiwic2hpcHMiLCJhZGRTaGlwVG9HYW1lQm9hcmRTaGlwcyIsInJlbW92ZVNoaXAiLCJlbXB0eVNoaXBQb3NpdGlvbnMiLCJlbXB0eUFyb3VuZFNoaXBQb3NpdGlvbiIsInNoaXBJbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJyZW1vdmVTaGlwRnJvbUdhbWVCb2FyZFNoaXBzIiwiYWRkQ2hlY2tQbGFjZW1lbnQiLCJjaGVja1BsYWNlbWVudCIsImdhbWVCb2FyZExlbiIsImdldFNoaXBzIiwiYWRkR2V0U2hpcHMiLCJhZGRDcmVhdGVTaGlwIiwiYWRkUmVtb3ZlU2hpcCIsImNoYW5nZVNoaXBBeGlzIiwibmV3QXhpcyIsImFkZENoYW5nZVNoaXBBeGlzIiwiYWRkR2V0UG9zaXRpb25zQXJvdW5kU2hpcCIsImF0dGFja0V2ZW50TGlzdGVuZXIiLCJhZGRHZXRHYW1lQm9hcmQiLCJnZXRHYW1lQm9hcmQiLCJnYW1lQm9hcmQiLCJhZGRHZXRHYW1lQm9hcmRMZW4iLCJnZXRHYW1lQm9hcmRMZW4iLCJwbGFjZVNoaXAiLCJwbGF5ZXIiLCJib2FyZERvbSIsInNlbGVjdG9yIiwicmVwbGFjZSIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJhZGQiLCJwbGFjZVNoaXBJbkRvbSIsInJlY2VpdmVBdHRhY2tEb20iLCJib2FyZCIsImF0dGFja2VyIiwicG9zaXRpb24iLCJwb3NpdGlvbkRvbSIsImF0dGFjayIsImNoZWNrQXR0YWNrIiwidGV4dENvbnRlbnQiLCJnZXRIaXRTaGlwIiwiaXNTdW5rIiwiZG9tIiwicmVtb3ZlIiwiaFBsYXllciIsIkdhbWVCb2FyZCIsIlBsYXllciIsImFpUGxheWVyIiwiaHVtYW5Cb2FyZERvbSIsImRvY3VtZW50IiwiYWlCb2FyZERvbSIsImFpQm9hcmQiLCJodW1hbkJvYXJkIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwicG9wSGJvYXJkIiwiaHVtYW5QbGF5ZXIiLCJnZXRBdHRhY2tzIiwidW5hdmFpbGFibGVTaG90cyIsImlzR2FtZU92ZXIiLCJjb25zb2xlIiwibG9nIiwiYXR0YWNrUG9zaXRpb24iLCJnZXRBdHRhY2tQb3NpdGlvbiIsImFpQXR0YWNrcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbmNlIiwiY2FwdHVyZSIsInBvcEFpQm9hcmQiXSwic291cmNlUm9vdCI6IiJ9